(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["8c729bf6"],{f0dd99fb:function(e,a,s){s.d(a,"__esModule",{value:!0}),s.e(a,{default:function(){return N;}});var t=s("777fffbe"),n=s("852bbaa9"),o=s("6ac60d67"),d=s("2f16c0fe"),l=n._(d),r=s("45b35e13"),i=s("fe1f6fec"),m=s("f28f50f3"),f=s("05cbd9ef"),u=t._(f),c=s("edb6e4c7"),g=t._(c),p=s("04d1c651"),b=t._(p),h=s("3034e9c2"),x=s("3c0f5305"),y=t._(x),k=s("b4e2f04e"),j=t._(k),M=s("ef1d6174"),_=t._(M),v=s("75f5fc90"),I=t._(v),C=s("7f8b5f84"),q=t._(C),w=s("64265f49"),S=t._(w),T=s("07d60f32");let D=e=>{let{id:a,open:s,setOpen:t,onSuccess:n}=e,[d]=_.default.useForm(),l=(0,m.useIntl)();return(0,o.jsxs)(j.default,{request:async e=>(0,T.getDictInfo)(e),id:a,open:s,setOpen:t,onSuccess:async e=>(a?await (0,T.updateDictInfo)(e):await (0,T.addDictInfo)(e),n(),!0),form:d,children:[(0,o.jsx)(q.default,{name:"id",hidden:!0}),(0,o.jsx)(I.default,{name:"parent",label:l.formatMessage({id:"pages.sys.resource.menu.parent"}),showSearch:!0,request:async()=>(0,T.getSelectList)()}),(0,o.jsx)(q.default,{name:"code",disabled:a,label:l.formatMessage({id:"pages.common.code"}),rules:[{required:!0}]}),(0,o.jsx)(q.default,{name:"name",label:l.formatMessage({id:"pages.common.name.en"}),rules:[{required:!0}]}),(0,o.jsx)(q.default,{name:"nameCn",label:l.formatMessage({id:"pages.common.name.zh"}),rules:[{required:!0}]}),(0,o.jsx)(q.default,{name:"val",label:l.formatMessage({id:"pages.common.value"})}),(0,o.jsx)(q.default,{name:"sortNum",label:l.formatMessage({id:"pages.common.sort.number"}),rules:[{required:!0}]}),(0,o.jsx)(S.default,{name:"remark",label:l.formatMessage({id:"pages.common.remark"})})]});},N=()=>{let[e,a]=(0,l.useState)(!1),[s,t]=(0,l.useState)(void 0),n=(0,l.useRef)(),d=(0,m.useIntl)(),f=(0,m.useAccess)()[m.history.location.pathname],c=[{title:d.formatMessage({id:"pages.common.name.en"}),dataIndex:"name",key:"name",width:300},{title:d.formatMessage({id:"pages.common.name.zh"}),dataIndex:"nameCn",key:"nameCn"},{title:d.formatMessage({id:"pages.common.value"}),dataIndex:"val",key:"val"},{title:d.formatMessage({id:"pages.common.remark"}),dataIndex:"remark",key:"remark"},{title:d.formatMessage({id:"pages.common.sort.number"}),dataIndex:"sortNum",key:"sortNum",width:100,hideInSearch:!0},{title:d.formatMessage({id:"pages.common.option"}),valueType:"option",key:"option",fixed:"right",render:(e,s,n,l)=>f&&[(0,o.jsx)(u.default,{type:"link",onClick:()=>{t(s.id),a(!0);},children:d.formatMessage({id:"pages.common.edit"})},"editable"),(0,o.jsx)(b.default,{title:d.formatMessage({id:"pages.confirm.delete"}),onConfirm:async()=>{let{code:e,message:a}=await (0,T.deleteDictInfo)(s);null==l||l.reload(),200===e?g.default.success(a):g.default.error(a);},children:(0,o.jsx)(u.default,{type:"link",children:d.formatMessage({id:"pages.common.delete"})},"delete")},"delete")]}];return(0,o.jsxs)(r.PageContainer,{children:[(0,o.jsx)(i.ProTable,{actionRef:n,request:async e=>(0,T.getDictList)(e),toolBarRender:()=>f&&[(0,o.jsx)(u.default,{icon:(0,o.jsx)(y.default,{}),type:"primary",onClick:()=>{t(void 0),a(!0);},children:(0,o.jsx)(h.FormattedMessage,{id:"pages.common.new"})},"button")],columns:c}),(0,o.jsx)(D,{id:s,open:e,setOpen:a,onSuccess:()=>{var e;t(void 0),null===(e=n.current)||void 0===e||e.reload();}})]});};}}]);
//# sourceMappingURL=8c729bf6-async.f9f253bc.js.map