(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["3c419633"],{"7b271ecb":function(e,a,t){t.d(a,"__esModule",{value:!0}),t.e(a,{default:function(){return S;}});var s=t("777fffbe"),l=t("852bbaa9"),d=t("6ac60d67"),i=t("2f16c0fe"),r=l._(i),n=t("45b35e13"),u=t("fe1f6fec"),o=t("f28f50f3"),m=t("05cbd9ef"),f=s._(m),c=t("04d1c651"),p=s._(c),b=t("b4e2f04e"),h=s._(b),y=t("ef1d6174"),x=s._(y),g=t("7f8b5f84"),q=s._(g);let j=async e=>await (0,o.request)("/api/user/member/list",{method:"POST",data:e}),v=async e=>{let{data:a}=await (0,o.request)("/api/user/member/info",{method:"get",params:{id:e}});return a;},T=async e=>(0,o.request)("/api/user/member/add",{method:"post",data:e}),k=async e=>(0,o.request)("/api/user/member/update",{method:"post",data:e}),_=async e=>(0,o.request)("/api/user/member/delete",{method:"get",params:{id:e.id}}),w=e=>{let{id:a,open:t,setOpen:s,onSuccess:l}=e;(0,o.useIntl)();let[i]=x.default.useForm();return(0,d.jsxs)(h.default,{open:t,setOpen:s,id:a,request:async e=>v(e),form:i,onSuccess:async e=>(a?await k(e):await T(e),l(),!0),children:[(0,d.jsx)(q.default,{name:"id",hidden:!0}),(0,d.jsx)(q.default,{name:"username",label:"\u7528\u6237\u540D",required:!0,rules:[{required:!0}]}),(0,d.jsx)(q.default,{name:"password",label:"\u5BC6\u7801",required:!0,rules:[{required:!0}]}),(0,d.jsx)(q.default,{name:"nickname",label:"\u6635\u79F0",required:!0,rules:[{required:!0}]}),(0,d.jsx)(q.default,{name:"email",label:"\u90AE\u7BB1",required:!0,rules:[{required:!0}]}),(0,d.jsx)(q.default,{name:"phone",label:"\u624B\u673A\u53F7",required:!0,rules:[{required:!0}]})]});};var I=t("3034e9c2"),C=t("3c0f5305"),M=s._(C);let S=()=>{let[e,a]=(0,r.useState)(!1),[t,s]=(0,r.useState)(void 0),l=(0,r.useRef)(),i=(0,o.useIntl)(),m=(0,o.useAccess)()[o.history.location.pathname],c=[{title:"\u7528\u6237\u540D",dataIndex:"username",valueType:"test",ellipsis:!0},{title:"\u5BC6\u7801",dataIndex:"password",valueType:"test",ellipsis:!0},{title:"\u6635\u79F0",dataIndex:"nickname",valueType:"test",ellipsis:!0},{title:"\u90AE\u7BB1",dataIndex:"email",valueType:"test",ellipsis:!0},{title:"\u624B\u673A\u53F7",dataIndex:"phone",valueType:"test",ellipsis:!0},{title:i.formatMessage({id:"pages.common.option"}),valueType:"option",key:"option",fixed:"right",render:(e,t,r,n)=>m&&[(0,d.jsx)(f.default,{type:"link",onClick:()=>{s(t.id),a(!0);},children:i.formatMessage({id:"pages.common.edit"})},"editable"),(0,d.jsx)(p.default,{title:i.formatMessage({id:"pages.confirm.delete"}),onConfirm:async()=>{var e;await _(t),null===(e=l.current)||void 0===e||e.reload();},children:(0,d.jsx)(f.default,{type:"link",children:i.formatMessage({id:"pages.common.delete"})},"delete")},"delete")]}];return(0,d.jsxs)(n.PageContainer,{children:[(0,d.jsx)(u.ProTable,{actionRef:l,request:async e=>j(e),toolBarRender:()=>m&&[(0,d.jsx)(f.default,{icon:(0,d.jsx)(M.default,{}),type:"primary",onClick:()=>{s(void 0),a(!0);},children:(0,d.jsx)(I.FormattedMessage,{id:"pages.common.new"})},"button")],columns:c}),(0,d.jsx)(w,{id:t,open:e,setOpen:a,onSuccess:()=>{var e;s(void 0),null===(e=l.current)||void 0===e||e.reload();}})]});};}}]);
//# sourceMappingURL=3c419633-async.abb27ad3.js.map