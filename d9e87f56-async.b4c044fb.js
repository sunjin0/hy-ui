(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_ant-design-pro"]||[]).push([["d9e87f56"],{"36f9a0ff":function(e,a,t){t.d(a,"__esModule",{value:!0}),t.e(a,{default:function(){return v;}});var s=t("777fffbe"),d=t("852bbaa9"),o=t("6ac60d67"),i=t("2f16c0fe"),l=d._(i),n=t("45b35e13"),m=t("fe1f6fec"),r=t("f28f50f3"),f=t("05cbd9ef"),c=s._(f),g=t("edb6e4c7"),u=s._(g),p=t("04d1c651"),h=s._(p),y=t("9492f22a"),b=s._(y),x=t("1201485d"),M=s._(x),T=t("07d60f32");let I=async e=>(0,r.request)("/api/msg/email/list",{method:"POST",data:e}),_=async e=>(0,r.request)("/api/msg/email/delete",{method:"GET",params:{id:e.id}}),v=()=>{let e=(0,r.useIntl)(),a=(0,l.useRef)(),t=(0,r.useAccess)()[r.history.location.pathname],s=[{title:e.formatMessage({id:"pages.common.id"}),dataIndex:"id",valueType:"text"},{title:e.formatMessage({id:"pages.common.email"}),dataIndex:"email",copyable:!0},{title:e.formatMessage({id:"pages.common.type"}),dataIndex:"type",valueType:"select",request:async()=>(0,T.getOptionList)("Message_Type")},{title:e.formatMessage({id:"pages.common.captcha"}),dataIndex:"code",valueType:"text",hideInSearch:!0},{title:e.formatMessage({id:"pages.email.subject"}),dataIndex:"subject",ellipsis:!0},{title:e.formatMessage({id:"pages.common.status"}),dataIndex:"state",valueType:"select",width:80,render:(a,t,s,d)=>(0,o.jsx)(b.default,{color:1===t.state?"gray":"green",children:1===t.state?e.formatMessage({id:"pages.common.unusable"}):e.formatMessage({id:"pages.common.used"})}),hideInSearch:!0},{title:e.formatMessage({id:"pages.email.content"}),dataIndex:"body",width:80,hideInTable:!0},{title:e.formatMessage({id:"pages.common.option"}),valueType:"option",fixed:"right",render:(a,s,d,i)=>t&&[(0,o.jsx)(M.default,{buttonText:e.formatMessage({id:"pages.common.preview"}),title:e.formatMessage({id:"pages.email.content"}),text:s.body},"preview"),(0,o.jsx)(h.default,{title:e.formatMessage({id:"pages.confirm.delete"}),onConfirm:async()=>{let{code:e,message:a}=await _(s);200===e?u.default.success(a):u.default.error(a),null==i||i.reload();},children:(0,o.jsx)(c.default,{type:"link",children:e.formatMessage({id:"pages.common.delete"})})},"delete")]}];return(0,o.jsx)(n.PageContainer,{children:(0,o.jsx)(m.ProTable,{actionRef:a,rowKey:"user",columns:s,request:async e=>I(e)})});};}}]);
//# sourceMappingURL=d9e87f56-async.b4c044fb.js.map